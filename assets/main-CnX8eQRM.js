var Ct=Object.defineProperty;var ct=t=>{throw TypeError(t)};var Tt=(t,e,a)=>e in t?Ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var j=(t,e,a)=>Tt(t,typeof e!="symbol"?e+"":e,a),B=(t,e,a)=>e.has(t)||ct("Cannot "+a);var v=(t,e,a)=>(B(t,e,"read from private field"),a?a.call(t):e.get(t)),P=(t,e,a)=>e.has(t)?ct("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),R=(t,e,a,s)=>(B(t,e,"write to private field"),s?s.call(t,a):e.set(t,a),a),H=(t,e,a)=>(B(t,e,"access private method"),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();const At="modulepreload",Ot=function(t){return"/front_6th_chapter1-2/"+t},lt={},_t=function(e,a,s){let o=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(a.map(d=>{if(d=Ot(d),d in lt)return;lt[d]=!0;const l=d.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const b=document.createElement("link");if(b.rel=l?"stylesheet":At,l||(b.as="script"),b.crossOrigin="",b.href=d,i&&b.setAttribute("nonce",i),document.head.appendChild(b),l)return new Promise((p,S)=>{b.addEventListener("load",p),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&n(i.reason);return e().catch(n)})},U=new Map,it=new WeakMap;function Lt(t){if(!t)return;const e=it.get(t)??new Set,a=new Set;for(const[,s]of U)for(const o of s.keys())a.add(o);a.forEach(s=>{if(e.has(s))return;const o=n=>{let c=n.target;for(;c;){const i=U.get(c);if(i){const d=i.get(s);d&&d.size&&[...d].forEach(l=>l.call(c,n))}if(c===t)break;c=c.parentNode}};t.addEventListener(s,o),e.add(s)}),it.set(t,e)}function ht(t,e,a){if(!t||!e||typeof a!="function")return;let s=U.get(t);s||(s=new Map,U.set(t,s));let o=s.get(e);o||(o=new Set,s.set(e,o)),o.add(a)}function dt(t,e,a){const s=U.get(t);if(!s)return;const o=s.get(e);o&&(o.delete(a),o.size===0&&s.delete(e),s.size===0&&U.delete(t))}function Rt(t){return typeof t=="string"||typeof t=="number"||t===null||t===void 0||typeof t=="boolean"}function It(t,e){Object.entries(e).forEach(([a,s])=>{if(a!=="key"){if(a.startsWith("on")&&typeof s=="function"){const o=a.slice(2).toLowerCase();ht(t,o,s);return}if(a==="className"){t.setAttribute("class",s);return}if(typeof s=="boolean"){s&&(t[a]=!0,t.setAttribute(a,""));return}t.setAttribute(a,s)}})}function q(t){if(Rt(t)){const e=t==null||typeof t=="boolean"?"":t.toString();return document.createTextNode(e)}if(Array.isArray(t)){const e=document.createDocumentFragment();return t.forEach(a=>{const s=q(a);e.appendChild(s)}),e}if(typeof t=="object"&&t!==null){const{type:e,props:a=null,children:s=[]}=t;if(typeof e=="function")throw new Error("Functional component needs to be normalized before passing to createElement");const o=document.createElement(e);return a&&It(o,a),(s||[]).forEach(n=>{const c=q(n);o.appendChild(c)}),o}return document.createTextNode(String(t))}const bt=()=>{const t=new Set;return{subscribe:s=>t.add(s),notify:()=>t.forEach(s=>s())}},Pt=(t,e=window.localStorage)=>({get:()=>{try{const n=e.getItem(t);return n?JSON.parse(n):null}catch(n){return console.error(`Error parsing storage item for key "${t}":`,n),null}},set:n=>{try{e.setItem(t,JSON.stringify(n))}catch(c){console.error(`Error setting storage item for key "${t}":`,c)}},reset:()=>{try{e.removeItem(t)}catch(n){console.error(`Error removing storage item for key "${t}":`,n)}}}),Z=(t,e)=>{const{subscribe:a,notify:s}=bt();let o=e;return{getState:()=>o,dispatch:i=>{const d=t(o,i);d!==o&&(o=d,s())},subscribe:a}};function r(t,e,...a){const s=a.flat(1/0).filter(n=>!(n==null||n===!1||n===!0));return{type:t,props:e??null,children:s}}function W(t,e=!0){if(t==null||typeof t=="boolean")return"";if(typeof t=="string")return t;if(typeof t=="number")return e?t.toString():t;if(Array.isArray(t))return t.flat(1/0).map(a=>W(a,!1)).filter(a=>a!=="");if(typeof t=="object"&&t!==null){const{type:a,props:s=null,children:o=[]}=t;if(typeof a=="function"){const c=a({...s||{},children:o});return W(c,e)}const n=(o||[]).flat(1/0).map(c=>W(c,!1)).filter(c=>c!=="");return{type:a,props:s,children:n}}return t}function ut(t){return typeof t=="string"||typeof t=="number"||t===null||t===void 0||typeof t=="boolean"}function kt(t,e={},a={}){Object.entries(a).forEach(([s,o])=>{if(s!=="key"&&e[s]===void 0){if(s.startsWith("on")&&typeof o=="function"){const n=s.slice(2).toLowerCase();dt(t,n,o);return}if(s==="className"){t.removeAttribute("class");return}if(typeof o=="boolean"){t[s]=!1,t.removeAttribute(s);return}t.removeAttribute(s)}}),Object.entries(e).forEach(([s,o])=>{if(s==="key")return;const n=a[s];if(n!==o){if(s.startsWith("on")&&typeof o=="function"){const c=s.slice(2).toLowerCase();typeof n=="function"&&dt(t,c,n),ht(t,c,o);return}if(s==="className"){o?t.setAttribute("class",o):t.removeAttribute("class");return}if(typeof o=="boolean"){t[s]=o,["checked","selected"].includes(s)?t.hasAttribute(s)&&t.removeAttribute(s):o?t.setAttribute(s,""):t.removeAttribute(s);return}t.setAttribute(s,o)}})}function G(t,e){return t&&typeof t=="object"&&t.props&&t.props.key!==void 0?t.props.key:e}function K(t,e,a,s=0){const o=t.childNodes[s];if(a===void 0){const p=q(e);o?t.insertBefore(p,o):t.appendChild(p);return}if(e===void 0){o&&t.removeChild(o);return}if(ut(e)&&ut(a)){const p=e==null||typeof e=="boolean"?"":e.toString(),S=a==null||typeof a=="boolean"?"":a.toString();p!==S&&(o.textContent=p);return}if(!(typeof e=="object"&&e!==null)||!(typeof a=="object"&&a!==null)||e.type!==a.type){const p=q(e);t.replaceChild(p,o);return}kt(o,e.props||{},a.props||{});const i=e.children||[],d=a.children||[],l=new Map;d.forEach((p,S)=>{l.set(G(p,S),{vnode:p,dom:o.childNodes[S]})});let u=0;const b=new Set;i.forEach((p,S)=>{const C=G(p,S);b.add(C);const m=l.get(C);if(m){const _=o.childNodes[u];m.dom!==_&&o.insertBefore(m.dom,_||null),K(o,p,m.vnode,u)}else K(o,p,void 0,u);u+=1}),d.forEach((p,S)=>{const C=G(p,S);if(!b.has(C)){const m=l.get(C);m&&m.dom.parentNode===o&&o.removeChild(m.dom)}})}const mt=new WeakMap;function Dt(t,e){const a=W(t),s=mt.get(e);if(s)K(e,a,s,0);else{const o=q(a);e.replaceChildren(o)}mt.set(e,a),Lt(e)}var D,T,I,O,M,$;const A=class A{constructor(e=""){P(this,M);P(this,D);P(this,T);P(this,I,bt());P(this,O);R(this,D,new Map),R(this,T,null),R(this,O,e.replace(/\/$/,"")),window.addEventListener("popstate",()=>{R(this,T,H(this,M,$).call(this)),v(this,I).notify()}),document.addEventListener("click",a=>{if(a.target.closest("[data-link]")){a.preventDefault();const s=a.target.getAttribute("href")||a.target.closest("[data-link]").getAttribute("href");s&&this.push(s)}})}get baseUrl(){return v(this,O)}get query(){return A.parseQuery(window.location.search)}set query(e){const a=A.getUrl(e,v(this,O));this.push(a)}get params(){var e;return((e=v(this,T))==null?void 0:e.params)??{}}get route(){return v(this,T)}get target(){var e;return(e=v(this,T))==null?void 0:e.handler}subscribe(e){v(this,I).subscribe(e)}addRoute(e,a){const s=[],o=e.replace(/:\w+/g,c=>(s.push(c.slice(1)),"([^/]+)")).replace(/\//g,"\\/"),n=new RegExp(`^${v(this,O)}${o}$`);v(this,D).set(e,{regex:n,paramNames:s,handler:a})}push(e){try{let a=e.startsWith(v(this,O))?e:v(this,O)+(e.startsWith("/")?e:"/"+e);`${window.location.pathname}${window.location.search}`!==a&&window.history.pushState(null,"",a),R(this,T,H(this,M,$).call(this,a)),v(this,I).notify()}catch(a){console.error("라우터 네비게이션 오류:",a)}}start(){R(this,T,H(this,M,$).call(this)),v(this,I).notify()}};D=new WeakMap,T=new WeakMap,I=new WeakMap,O=new WeakMap,M=new WeakSet,$=function(e=window.location.pathname){const{pathname:a}=new URL(e,window.location.origin);for(const[s,o]of v(this,D)){const n=a.match(o.regex);if(n){const c={};return o.paramNames.forEach((i,d)=>{c[i]=n[d+1]}),{...o,params:c,path:s}}}return null},j(A,"parseQuery",(e=window.location.search)=>{const a=new URLSearchParams(e),s={};for(const[o,n]of a)s[o]=n;return s}),j(A,"stringifyQuery",e=>{const a=new URLSearchParams;for(const[s,o]of Object.entries(e))o!=null&&o!==""&&a.set(s,String(o));return a.toString()}),j(A,"getUrl",(e,a="")=>{const o={...A.parseQuery(),...e};Object.keys(o).forEach(c=>{(o[c]===null||o[c]===void 0||o[c]==="")&&delete o[c]});const n=A.stringifyQuery(o);return`${a}${window.location.pathname.replace(a,"")}${n?`?${n}`:""}`});let J=A;const y={SET_PRODUCTS:"products/setProducts",ADD_PRODUCTS:"products/addProducts",SET_LOADING:"products/setLoading",SET_ERROR:"products/setError",SET_CATEGORIES:"products/setCategories",SET_CURRENT_PRODUCT:"products/setCurrentProduct",SET_RELATED_PRODUCTS:"products/setRelatedProducts",RESET_FILTERS:"products/resetFilters",SETUP:"products/setup",SET_STATUS:"products/setStatus"},x={ADD_ITEM:"cart/addItem",REMOVE_ITEM:"cart/removeItem",UPDATE_QUANTITY:"cart/updateQuantity",CLEAR_CART:"cart/clearCart",TOGGLE_SELECT:"cart/toggleSelect",SELECT_ALL:"cart/selectAll",DESELECT_ALL:"cart/deselectAll",REMOVE_SELECTED:"cart/removeSelected",LOAD_FROM_STORAGE:"cart/loadFromStorage",SYNC_TO_STORAGE:"cart/syncToStorage"},w={OPEN_CART_MODAL:"ui/openCartModal",CLOSE_CART_MODAL:"ui/closeCartModal",SHOW_TOAST:"ui/showToast",HIDE_TOAST:"ui/hideToast"},V={products:[],totalCount:0,currentProduct:null,relatedProducts:[],loading:!0,error:null,status:"idle",categories:{}},Mt=(t,e)=>{switch(e.type){case y.SET_STATUS:return{...t,status:e.payload};case y.SET_CATEGORIES:return{...t,categories:e.payload,loading:!1,error:null,status:"done"};case y.SET_PRODUCTS:return{...t,products:e.payload.products,totalCount:e.payload.totalCount,loading:!1,error:null,status:"done"};case y.ADD_PRODUCTS:return{...t,products:[...t.products,...e.payload.products],totalCount:e.payload.totalCount,loading:!1,error:null,status:"done"};case y.SET_LOADING:return{...t,loading:e.payload};case y.SET_ERROR:return{...t,error:e.payload,loading:!1,status:"done"};case y.SET_CURRENT_PRODUCT:return{...t,currentProduct:e.payload,loading:!1,error:null,status:"done"};case y.SET_RELATED_PRODUCTS:return{...t,relatedProducts:e.payload,status:"done"};case y.SETUP:return{...t,...e.payload};default:return t}},h=Z(Mt,V),tt=Pt("shopping_cart"),xt={items:[],selectedAll:!1},Ut=(t,e)=>t.find(a=>a.id===e),qt=(t,e)=>{const a=tt.get()??xt;switch(e.type){case x.ADD_ITEM:{const{product:s,quantity:o=1}=e.payload;if(Ut(a.items,s.productId))return{...a,items:a.items.map(c=>c.id===s.productId?{...c,quantity:c.quantity+o}:c)};{const c={id:s.productId,title:s.title,image:s.image,price:parseInt(s.lprice),quantity:o,selected:!1};return{...a,items:[...a.items,c]}}}case x.REMOVE_ITEM:return{...a,items:a.items.filter(s=>s.id!==e.payload)};case x.UPDATE_QUANTITY:{const{productId:s,quantity:o}=e.payload;return{...a,items:a.items.map(n=>n.id===s?{...n,quantity:Math.max(1,o)}:n)}}case x.CLEAR_CART:return{...a,items:[],selectedAll:!1};case x.TOGGLE_SELECT:{const s=e.payload,o=a.items.map(c=>c.id===s?{...c,selected:!c.selected}:c),n=o.length>0&&o.every(c=>c.selected);return{...a,items:o,selectedAll:n}}case x.SELECT_ALL:{const s=a.items.map(o=>({...o,selected:!0}));return{...a,items:s,selectedAll:!0}}case x.DESELECT_ALL:{const s=a.items.map(o=>({...o,selected:!1}));return{...a,items:s,selectedAll:!1}}case x.REMOVE_SELECTED:return{...a,items:a.items.filter(s=>!s.selected),selectedAll:!1};case x.LOAD_FROM_STORAGE:return{...a,...e.payload};default:return a}},E=Z(qt,xt),jt={cartModal:{isOpen:!1},globalLoading:!1,toast:{isVisible:!1,message:"",type:"info"}},Ht=(t,e)=>{switch(e.type){case w.OPEN_CART_MODAL:return{...t,cartModal:{isOpen:!0}};case w.CLOSE_CART_MODAL:return{...t,cartModal:{isOpen:!1}};case w.HIDE_TOAST:return{...t,toast:{...t.toast,isVisible:!1}};case w.SHOW_TOAST:return{...t,toast:{isVisible:!0,message:e.payload.message,type:e.payload.type||"info"}};default:return t}},N=Z(Ht,jt),et="/front_6th_chapter1-2/",g=new J(et),Y=new WeakMap,k={current:null,previous:null},Qt={mount:null,unmount:null,watches:[],deps:[],mounted:!1},rt=t=>(Y.has(t)||Y.set(t,{...Qt}),Y.get(t)),Wt=(t,e)=>!Array.isArray(t)||!Array.isArray(e)?!1:t.length!==e.length?!0:t.some((a,s)=>a!==e[s]),$t=t=>{var a;const e=rt(t);e.mounted||(console.log("🚀 페이지 마운트:",t.name),(a=e.mount)==null||a.call(e),e.mounted=!0,e.deps=[])},Ft=t=>{var a;const e=rt(t);e.mounted&&(console.log("🔻 페이지 언마운트:",t.name),(a=e.unmount)==null||a.call(e),e.mounted=!1)},vt=({onMount:t,onUnmount:e,watches:a}={},s)=>{const o=rt(s);return typeof t=="function"&&(o.mount=t),typeof e=="function"&&(o.unmount=e),Array.isArray(a)&&(o.watches=typeof a[0]=="function"?[a]:a),(...n)=>{const c=k.current!==s;return k.current&&c&&Ft(k.current),k.previous=k.current,k.current=s,c?$t(s):o.watches&&o.watches.forEach(([i,d],l)=>{const u=i();Wt(u,o.deps[l])&&(console.log(`📊 의존성 변경 감지 (${s.name}):`,o.deps[l],"→",u),d()),o.deps[l]=Array.isArray(u)?[...u]:[]}),s(...n)}};async function at(t={}){const{limit:e=20,search:a="",category1:s="",category2:o="",sort:n="price_asc"}=t,c=t.current??t.page??1,i=new URLSearchParams({page:c.toString(),limit:e.toString(),...a&&{search:a},...s&&{category1:s},...o&&{category2:o},sort:n});return await(await fetch(`/api/products?${i}`)).json()}async function zt(t){return await(await fetch(`/api/products/${t}`)).json()}async function Bt(){return await(await fetch("/api/categories")).json()}const Gt=async()=>{g.query={current:void 0},h.dispatch({type:y.SETUP,payload:{...V,loading:!0,status:"pending"}});try{const[{products:t,pagination:{total:e}},a]=await Promise.all([at(g.query),Bt()]);h.dispatch({type:y.SETUP,payload:{products:t,categories:a,totalCount:e,loading:!1,status:"done"}})}catch(t){throw h.dispatch({type:y.SET_ERROR,payload:t.message}),t}},st=async(t=!0)=>{try{h.dispatch({type:y.SETUP,payload:{loading:!0,status:"pending",error:null}});const{products:e,pagination:{total:a}}=await at(g.query),s={products:e,totalCount:a};if(t){h.dispatch({type:y.SET_PRODUCTS,payload:s});return}h.dispatch({type:y.ADD_PRODUCTS,payload:s})}catch(e){throw h.dispatch({type:y.SET_ERROR,payload:e.message}),e}},Yt=async()=>{const t=h.getState();!(t.products.length<t.totalCount)||t.loading||(g.query={current:Number(g.query.current??1)+1},await st(!1))},Kt=t=>{g.query={search:t,current:1}},F=t=>{g.query={...t,current:1}},Jt=t=>{g.query={sort:t,current:1}},Xt=t=>{g.query={limit:t,current:1}},gt=async t=>{try{const e=h.getState().currentProduct;if(t===(e==null?void 0:e.productId)){e.category2&&await pt(e.category2,t);return}h.dispatch({type:y.SETUP,payload:{...V,currentProduct:null,loading:!0,status:"pending"}});const a=await zt(t);h.dispatch({type:y.SET_CURRENT_PRODUCT,payload:a}),a.category2&&await pt(a.category2,t)}catch(e){throw console.error("상품 상세 페이지 로드 실패:",e),h.dispatch({type:y.SET_ERROR,payload:e.message}),e}},pt=async(t,e)=>{try{const o=(await at({category2:t,limit:20,page:1})).products.filter(n=>n.productId!==e);h.dispatch({type:y.SET_RELATED_PRODUCTS,payload:o})}catch(a){console.error("관련 상품 로드 실패:",a),h.dispatch({type:y.SET_RELATED_PRODUCTS,payload:[]})}},Zt=()=>{try{const t=tt.get();t&&E.dispatch({type:x.LOAD_FROM_STORAGE,payload:t})}catch(t){console.error("장바구니 로드 실패:",t)}},L=()=>{try{const t=E.getState();tt.set(t)}catch(t){console.error("장바구니 저장 실패:",t)}},wt=(t,e=1)=>{E.dispatch({type:x.ADD_ITEM,payload:{product:t,quantity:e}}),L(),N.dispatch({type:w.SHOW_TOAST,payload:{message:"장바구니에 추가되었습니다",type:"success"}}),setTimeout(()=>{N.dispatch({type:w.HIDE_TOAST})},3e3)},Vt=t=>{E.dispatch({type:x.REMOVE_ITEM,payload:t}),L()},ot=(t,e)=>{E.dispatch({type:x.UPDATE_QUANTITY,payload:{productId:t,quantity:e}}),L()},te=t=>{E.dispatch({type:x.TOGGLE_SELECT,payload:t}),L()},ee=()=>{E.dispatch({type:x.SELECT_ALL}),L()},re=()=>{E.dispatch({type:x.DESELECT_ALL}),L()},ae=()=>{E.dispatch({type:x.REMOVE_SELECTED}),L(),N.dispatch({type:w.SHOW_TOAST,payload:{message:"선택된 상품들이 삭제되었습니다",type:"info"}}),setTimeout(()=>{N.dispatch({type:w.HIDE_TOAST})},3e3)},se=()=>{E.dispatch({type:x.CLEAR_CART}),L(),N.dispatch({type:w.SHOW_TOAST,payload:{message:"장바구니가 비워졌습니다",type:"info"}}),setTimeout(()=>{N.dispatch({type:w.HIDE_TOAST})},3e3)},f=({src:t,...e})=>{const a=String(et+t).replace("//","/");return r("img",{src:a,...e})},oe=[10,20,50,100],ne=[{value:"price_asc",label:"가격 낮은순"},{value:"price_desc",label:"가격 높은순"},{value:"name_asc",label:"이름순"},{value:"name_desc",label:"이름 역순"}],ce=async t=>{if(t.key==="Enter"){const e=t.target.value.trim();try{await Kt(e)}catch(a){console.error("검색 실패:",a)}}},le=async t=>{const e=parseInt(t.target.value);try{await Xt(e)}catch(a){console.error("상품 수 변경 실패:",a)}},ie=async t=>{const e=t.target.value;try{await Jt(e)}catch(a){console.error("정렬 변경 실패:",a)}},ft=async t=>{const e=t.target.getAttribute("data-breadcrumb");try{if(e==="reset")await F({category1:"",category2:""});else if(e==="category1"){const a=t.target.getAttribute("data-category1");await F({category1:a,category2:""})}}catch(a){console.error("브레드크럼 네비게이션 실패:",a)}},de=async t=>{const e=t.target.getAttribute("data-category1");if(e)try{await F({category1:e,category2:""})}catch(a){console.error("1depth 카테고리 선택 실패:",a)}},ue=async t=>{const e=t.target.getAttribute("data-category1"),a=t.target.getAttribute("data-category2");if(!(!e||!a))try{await F({category1:e,category2:a})}catch(s){console.error("2depth 카테고리 선택 실패:",s)}};function me({searchQuery:t="",limit:e=20,sort:a="price_asc",category:s={},categories:o={}}){const n=Object.keys(o).length>0?Object.keys(o):[],c=oe.map(l=>r("option",{key:l,value:l,selected:Number(e)===l},l,"개")),i=ne.map(({value:l,label:u})=>r("option",{key:l,value:l,selected:a===l},u)),d=n.map(l=>r("button",{key:l,"data-category1":l,className:`category1-filter-btn text-left px-3 py-2 text-sm rounded-md border transition-colors
                 bg-white border-gray-300 text-gray-700 hover:bg-gray-50`,onClick:de},l));return r("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4"},r("div",{className:"mb-4"},r("div",{className:"relative"},r("input",{type:"text",id:"search-input",placeholder:"상품명을 검색해보세요...",value:t,className:`w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg
                        focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,onKeyDown:ce}),r("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},r(f,{src:"/search-icon.svg",alt:"검색",className:"h-5 w-5 text-gray-400"})))),r("div",{className:"space-y-3"},r("div",{className:"space-y-2"},r("div",{className:"flex items-center gap-2"},r("label",{className:"text-sm text-gray-600"},"카테고리:"),["전체",s.category1,s.category2].filter((l,u)=>u===0||!!l).map((l,u)=>{if(l==="전체")return r("button",{key:"reset","data-breadcrumb":"reset",className:"text-xs hover:text-blue-800 hover:underline",onClick:ft},"전체");if(u===1)return r("button",{key:l,"data-breadcrumb":"category1","data-category1":l,className:"text-xs hover:text-blue-800 hover:underline",onClick:ft},l);if(u===2)return r("span",{key:l,className:"text-xs text-gray-600 cursor-default"},l)}).reduce((l,u,b)=>(b>0&&l.push(r("span",{className:"text-xs text-gray-500"},">")),l.push(u),l),[])),!s.category1&&r("div",{className:"flex flex-wrap gap-2"},n.length>0?d:r("div",{className:"text-sm text-gray-500 italic"},"카테고리 로딩 중...")),s.category1&&o[s.category1]&&r("div",{className:"space-y-2"},r("div",{className:"flex flex-wrap gap-2"},Object.keys(o[s.category1]).map(l=>{const u=s.category2===l;return r("button",{key:l,"data-category1":s.category1,"data-category2":l,className:`category2-filter-btn text-left px-3 py-2 text-sm rounded-md border transition-colors
                               ${u?"bg-blue-100 border-blue-300 text-blue-800":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:ue},l)})))),r("div",{className:"flex gap-2 items-center justify-between"},r("div",{className:"flex items-center gap-2"},r("label",{className:"text-sm text-gray-600"},"개수:"),r("select",{id:"limit-select",className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onChange:le},c)),r("div",{className:"flex items-center gap-2"},r("label",{className:"text-sm text-gray-600"},"정렬:"),r("select",{id:"sort-select",className:`text-sm border border-gray-300 rounded px-2 py-1
                           focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,onChange:ie},i)))))}const ge=t=>{const e=t.target.closest("[data-product-id]"),a=e.getAttribute("data-product-id"),s=e.previousElementSibling;if(a&&s){const o=parseInt(s.value)+1;s.value=o,ot(a,o)}},pe=t=>{const e=t.target.closest("[data-product-id]"),a=e.getAttribute("data-product-id"),s=e.nextElementSibling;if(a&&s){const o=Math.max(1,parseInt(s.value)-1);s.value=o,ot(a,o)}},fe=(t,e)=>{const a=Math.max(1,parseInt(e)||1);t&&ot(t,a)};function ye({id:t,title:e,image:a,price:s,quantity:o,selected:n}){const c=s*o;return r("div",{className:"flex items-center py-3 border-b border-gray-100 cart-item","data-product-id":t},r("label",{className:"flex items-center mr-3"},r("input",{type:"checkbox",checked:n,className:`cart-item-checkbox w-4 h-4 text-blue-600 border-gray-300 rounded
                      focus:ring-blue-500`,"data-product-id":t,onChange:()=>te(t)})),r("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden mr-3 flex-shrink-0"},r("img",{src:a,alt:e,className:"w-full h-full object-cover cursor-pointer cart-item-image","data-product-id":t})),r("div",{className:"flex-1 min-w-0"},r("h4",{className:"text-sm font-medium text-gray-900 truncate cursor-pointer cart-item-title","data-product-id":t},e),r("p",{className:"text-sm text-gray-600 mt-1"},s.toLocaleString(),"원"),r("div",{className:"flex items-center mt-2"},r("button",{className:`quantity-decrease-btn w-7 h-7 flex items-center justify-center
                         border border-gray-300 rounded-l-md bg-gray-50 hover:bg-gray-100`,"data-product-id":t,onClick:pe},r(f,{src:"/minus-icon.svg",alt:"감소",className:"w-3 h-3"})),r("input",{type:"number",value:o,min:"1",className:`quantity-input w-12 h-7 text-center text-sm border-t border-b
                        border-gray-300 focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,disabled:!0,"data-product-id":t,onChange:i=>fe(t,i.target.value)}),r("button",{className:`quantity-increase-btn w-7 h-7 flex items-center justify-center
                         border border-gray-300 rounded-r-md bg-gray-50 hover:bg-gray-100`,"data-product-id":t,onClick:ge},r(f,{src:"/plus-icon.svg",alt:"증가",className:"w-3 h-3"})))),r("div",{className:"text-right ml-3"},r("p",{className:"text-sm font-medium text-gray-900"},c.toLocaleString(),"원"),r("button",{className:"cart-item-remove-btn mt-1 text-xs text-red-600 hover:text-red-800","data-product-id":t,onClick:()=>Vt(t)},"삭제")))}const yt=()=>{N.dispatch({type:w.CLOSE_CART_MODAL})},he=t=>{t.target.checked?ee():re()},be=()=>{N.dispatch({type:w.SHOW_TOAST,payload:{message:"구매 기능은 추후 구현 예정입니다.",type:"info"}})};let X=!1;const Nt=t=>{t.key==="Escape"&&(N.getState().cartModal.isOpen&&N.dispatch({type:w.CLOSE_CART_MODAL}),document.removeEventListener("keydown",Nt),X=!1)},xe=()=>{X||(document.addEventListener("keydown",Nt),X=!0)};function ve({items:t=[],selectedAll:e=!1,isOpen:a=!1}){if(xe(),!a)return"";const s=t.filter(i=>i.selected),o=s.length,n=t.reduce((i,d)=>i+d.price*d.quantity,0),c=s.reduce((i,d)=>i+d.price*d.quantity,0);return r("div",{className:"fixed inset-0 z-50 overflow-y-auto cart-modal"},r("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity cart-modal-overlay",onClick:yt}),r("div",{className:"flex min-h-full items-end justify-center p-0 sm:items-center sm:p-4"},r("div",{className:"relative bg-white rounded-t-lg sm:rounded-lg shadow-xl w-full max-w-md sm:max-w-lg max-h-[90vh] overflow-hidden"},r("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between"},r("h2",{className:"text-lg font-bold text-gray-900 flex items-center"},r(f,{src:"/cart-icon.svg",alt:"장바구니",className:"w-5 h-5 mr-2"}),"장바구니",t.length>0&&r("span",{className:"text-sm font-normal text-gray-600 ml-1"},"(",t.length,")")),r("button",{id:"cart-modal-close-btn",className:"text-gray-400 hover:text-gray-600 p-1",onClick:yt},r(f,{src:"/close-icon.svg",alt:"닫기",className:"w-6 h-6"}))),t.length===0?r("div",{className:"flex-1 flex items-center justify-center p-8"},r("div",{className:"text-center"},r("div",{className:"text-gray-400 mb-4"},r(f,{src:"/empty-cart-icon.svg",alt:"빈 장바구니",className:"mx-auto h-12 w-12"})),r("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"장바구니가 비어있습니다"),r("p",{className:"text-gray-600"},"원하는 상품을 담아보세요!"))):r("div",{className:"flex flex-col max-h-[calc(90vh-120px)]"},r("div",{className:"p-4 border-b border-gray-200 bg-gray-50"},r("label",{className:"flex items-center text-sm text-gray-700"},r("input",{type:"checkbox",id:"cart-modal-select-all-checkbox",checked:e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2",onChange:he}),"전체선택 (",t.length,"개)")),r("div",{className:"flex-1 overflow-y-auto"},r("div",{className:"p-4 space-y-4"},t.map(i=>r(ye,{...i}))))),t.length>0&&r("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4"},o>0&&r("div",{className:"flex justify-between items-center mb-3 text-sm"},r("span",{className:"text-gray-600"},"선택한 상품 (",o,"개)"),r("span",{className:"font-medium"},c.toLocaleString(),"원")),r("div",{className:"flex justify-between items-center mb-4"},r("span",{className:"text-lg font-bold text-gray-900"},"총 금액"),r("span",{className:"text-xl font-bold text-blue-600"},n.toLocaleString(),"원")),r("div",{className:"space-y-2"},o>0&&r("button",{id:"cart-modal-remove-selected-btn",className:`w-full bg-red-600 text-white py-2 px-4 rounded-md
                                 hover:bg-red-700 transition-colors text-sm`,onClick:ae},"선택한 상품 삭제 (",o,"개)"),r("div",{className:"flex gap-2"},r("button",{id:"cart-modal-clear-cart-btn",className:`flex-1 bg-gray-600 text-white py-2 px-4 rounded-md
                                 hover:bg-gray-700 transition-colors text-sm`,onClick:se},"전체 비우기"),r("button",{id:"cart-modal-checkout-btn",className:`flex-1 bg-blue-600 text-white py-2 px-4 rounded-md
                                 hover:bg-blue-700 transition-colors text-sm`,onClick:be},"구매하기")))))))}const we=({error:t})=>r("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},r("div",{className:"text-center"},r("div",{className:"text-red-500 mb-4"},r(f,{src:"/error-large-icon.svg",alt:"오류",className:"mx-auto h-12 w-12"})),r("h1",{className:"text-xl font-bold text-gray-900 mb-2"},"상품을 찾을 수 없습니다"),r("p",{className:"text-gray-600 mb-4"},t||"요청하신 상품이 존재하지 않습니다."),r("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 mr-2"},"이전 페이지"),r("a",{href:"/","data-link":"/",className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700"},"홈으로"))),Ne=()=>{N.dispatch({type:w.HIDE_TOAST})};function Se({isVisible:t=!1,message:e="",type:a="info"}){if(!t)return"";const s=()=>{switch(a){case"success":return{bg:"bg-green-600",icon:r(f,{src:"/success-icon.svg",alt:"성공",className:"w-5 h-5"})};case"error":return{bg:"bg-red-600",icon:r(f,{src:"/error-icon.svg",alt:"오류",className:"w-5 h-5"})};case"warning":return{bg:"bg-yellow-600",icon:r(f,{src:"/warning-icon.svg",alt:"경고",className:"w-5 h-5"})};default:return{bg:"bg-blue-600",icon:r(f,{src:"/info-icon.svg",alt:"정보",className:"w-5 h-5"})}}},{bg:o,icon:n}=s();return r("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 toast-container"},r("div",{className:`${o} text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2 max-w-sm`},r("div",{className:"flex-shrink-0"},n),r("p",{className:"text-sm font-medium"},e),r("button",{id:"toast-close-btn",className:"flex-shrink-0 ml-2 text-white hover:text-gray-200",onClick:Ne},r(f,{src:"/close-icon-white.svg",alt:"닫기",className:"w-4 h-4"}))))}function Ee(){return r("h1",{className:"text-xl font-bold text-gray-900"},r("a",{href:"/","data-link":"/"},"쇼핑몰"))}function Ce(){return r("footer",{className:"bg-white shadow-sm sticky top-0 z-40"},r("div",{className:"max-w-md mx-auto py-8 text-center text-gray-500"},r("p",null,"© ",new Date().getFullYear()," 항해플러스 프론트엔드 쇼핑몰")))}const Te=async t=>{const a=h.getState().products.find(s=>s.productId===t);a&&wt(a,1)};function Ae({productId:t,title:e,image:a,lprice:s,brand:o,onClick:n}){const c=Number(s),i=d=>{d.preventDefault(),n(t)};return r("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden product-card","data-product-id":t},r("div",{className:"aspect-square bg-gray-100 overflow-hidden cursor-pointer product-image",onClick:i},r("img",{src:a,alt:e,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",loading:"lazy"})),r("div",{className:"p-3"},r("div",{className:"cursor-pointer product-info mb-3",onClick:i},r("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 mb-1"},e),r("p",{className:"text-xs text-gray-500 mb-2"},o),r("p",{className:"text-lg font-bold text-gray-900"},c.toLocaleString(),"원")),r("button",{className:`w-full bg-blue-600 text-white text-sm py-2 px-3 rounded-md
                       hover:bg-blue-700 transition-colors add-to-cart-btn`,"data-product-id":t,onClick:()=>Te(t)},"장바구니 담기")))}function Oe(){return r("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden animate-pulse"},r("div",{className:"aspect-square bg-gray-200"}),r("div",{className:"p-3"},r("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-2"}),r("div",{className:"h-5 bg-gray-200 rounded w-1/2 mb-3"}),r("div",{className:"h-8 bg-gray-200 rounded"})))}const _e=async()=>{try{await st(!0)}catch(t){console.error("재시도 실패:",t)}},Le=async t=>{g.push(`/product/${t}`)};function Re({products:t=[],loading:e=!1,error:a=null,totalCount:s=0,hasMore:o=!0}){return a?r("div",{className:"text-center py-12"},r("div",{className:"text-red-500 mb-4"},r(f,{src:"/error-large-icon.svg",alt:"오류",className:"mx-auto h-12 w-12"})),r("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"오류가 발생했습니다"),r("p",{className:"text-gray-600 mb-4"},a),r("button",{id:"retry-btn",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",onClick:_e},"다시 시도")):!e&&t.length===0?r("div",{className:"text-center py-12"},r("div",{className:"text-gray-400 mb-4"},r(f,{src:"/search-large-icon.svg",alt:"검색",className:"mx-auto h-12 w-12"})),r("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"상품을 찾을 수 없습니다"),r("p",{className:"text-gray-600"},"다른 검색어를 시도해보세요.")):r("div",null,s>0&&r("div",{className:"mb-4 text-sm text-gray-600"},"총 ",r("span",{className:"font-medium text-gray-900"},s.toLocaleString(),"개"),"의 상품"),r("div",{className:"grid grid-cols-2 gap-4 mb-6",id:"products-grid"},t.map(n=>r(Ae,{key:n.productId,...n,onClick:Le})),e&&Array.from({length:6}).map((n,c)=>r(Oe,{key:`skeleton-${c}`}))),e&&t.length>0&&r("div",{className:"text-center py-4"},r("div",{className:"inline-flex items-center"},r(f,{src:"/loading-icon.svg",alt:"로딩",className:"animate-spin h-5 w-5 text-blue-600 mr-2"}),r("span",{className:"text-sm text-gray-600"},"상품을 불러오는 중..."))),!o&&t.length>0&&!e&&r("div",{className:"text-center py-4 text-sm text-gray-500"},"모든 상품을 확인했습니다"),r("div",{id:"scroll-trigger",className:"h-4"}))}const Ie=async t=>{const e=new URLSearchParams(t).toString();g.push(`/?${e}`)},Pe=async()=>{const t=h.getState().currentProduct,e={category1:t==null?void 0:t.category1,category2:t==null?void 0:t.category2,currentPage:1},a=new URLSearchParams(e).toString();g.push(`/?${a}`)},ke=()=>{const t=document.getElementById("quantity-input");if(t){const e=parseInt(t.getAttribute("max"))||100;t.value=Math.min(e,parseInt(t.value)+1)}},De=()=>{const t=document.getElementById("quantity-input");t&&(t.value=Math.max(1,parseInt(t.value)-1))},Me=()=>{const t=document.getElementById("quantity-input"),e=t?parseInt(t.value):1,s=h.getState().currentProduct;s&&(console.log("🛒 상품 상세 페이지에서 장바구니 추가:",s),wt(s,e))};function Ue({product:t,relatedProducts:e=[]}){const{productId:a,title:s,image:o,lprice:n,brand:c,description:i="",rating:d=0,reviewCount:l=0,stock:u=100,category1:b,category2:p}=t,S=Number(n),C=[];return b&&C.push({name:b,category:"category1",value:b}),p&&C.push({name:p,category:"category2",value:p}),r("div",null,C.length>0&&r("nav",{className:"mb-4"},r("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},r("a",{href:"/","data-link":"/",className:"hover:text-blue-600 transition-colors"},"홈"),C.map((m,_)=>[r(f,{key:`${m.category}-icon`,src:"/chevron-right-icon.svg",alt:"오른쪽 화살표",className:"w-4 h-4 text-gray-400"}),r("button",{key:`${m.category}-btn`,className:"breadcrumb-link",[`data-${m.category}`]:m.value,onClick:()=>Ie(_===0?{category1:m.value}:{category1:C[_-1].value,category2:m.value})},m.name)]).flat())),r("div",{className:"bg-white rounded-lg shadow-sm mb-6"},r("div",{className:"p-4"},r("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden mb-4"},r("img",{src:o,alt:s,className:"w-full h-full object-cover product-detail-image"})),r("div",null,r("p",{className:"text-sm text-gray-600 mb-1"},c),r("h1",{className:"text-xl font-bold text-gray-900 mb-3"},s),d>0&&r("div",{className:"flex items-center mb-3"},r("div",{className:"flex items-center"},Array(5).fill(0).map((m,_)=>r(f,{key:_,src:"/star-icon.svg",alt:"별점",className:`w-4 h-4 ${_<d?"text-yellow-400":"text-gray-300"}`}))),r("span",{className:"ml-2 text-sm text-gray-600"},d,".0 (",l.toLocaleString(),"개 리뷰)")),r("div",{className:"mb-4"},r("span",{className:"text-2xl font-bold text-blue-600"},S.toLocaleString(),"원")),r("div",{className:"text-sm text-gray-600 mb-4"},"재고 ",u.toLocaleString(),"개"),i&&r("div",{className:"text-sm text-gray-700 leading-relaxed mb-6"},i))),r("div",{className:"border-t border-gray-200 p-4"},r("div",{className:"flex items-center justify-between mb-4"},r("span",{className:"text-sm font-medium text-gray-900"},"수량"),r("div",{className:"flex items-center"},r("button",{id:"quantity-decrease",className:`w-8 h-8 flex items-center justify-center border border-gray-300
                             rounded-l-md bg-gray-50 hover:bg-gray-100`,onClick:De},r(f,{src:"/quantity-minus-icon.svg",alt:"수량 감소",className:"w-4 h-4"})),r("input",{type:"number",id:"quantity-input",value:"1",min:"1",max:u,className:`w-16 h-8 text-center text-sm border-t border-b border-gray-300
                            focus:ring-1 focus:ring-blue-500 focus:border-blue-500`}),r("button",{id:"quantity-increase",className:`w-8 h-8 flex items-center justify-center border border-gray-300
                             rounded-r-md bg-gray-50 hover:bg-gray-100`,onClick:ke},r(f,{src:"/quantity-plus-icon.svg",alt:"수량 증가",className:"w-4 h-4"})))),r("button",{id:"add-to-cart-btn","data-product-id":a,className:`w-full bg-blue-600 text-white py-3 px-4 rounded-md
                         hover:bg-blue-700 transition-colors font-medium`,onClick:Me},"장바구니 담기"))),r("div",{className:"mb-6"},r("button",{className:`block w-full text-center bg-gray-100 text-gray-700 py-3 px-4 rounded-md
                  hover:bg-gray-200 transition-colors go-to-product-list`,onClick:Pe},"상품 목록으로 돌아가기")),e.length>0&&r("div",{className:"bg-white rounded-lg shadow-sm"},r("div",{className:"p-4 border-b border-gray-200"},r("h2",{className:"text-lg font-bold text-gray-900"},"관련 상품"),r("p",{className:"text-sm text-gray-600"},"같은 카테고리의 다른 상품들")),r("div",{className:"p-4"},r("div",{className:"grid grid-cols-2 gap-3 responsive-grid"},e.slice(0,20).map(m=>r("div",{key:m.productId,className:"bg-gray-50 rounded-lg p-3 related-product-card cursor-pointer","data-product-id":m.productId,onClick:()=>g.push(`/product/${m.productId}`)},r("div",{className:"aspect-square bg-white rounded-md overflow-hidden mb-2"},r("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover",loading:"lazy"})),r("h3",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-2"},m.title),r("p",{className:"text-sm font-bold text-blue-600"},Number(m.lprice).toLocaleString(),"원")))))))}const qe=(t=200)=>{const e=window.pageYOffset||document.documentElement.scrollTop,a=window.innerHeight,s=document.documentElement.scrollHeight;return e+a>=s-t},je=t=>{let e=!1;return(...a)=>{e||(e=!0,queueMicrotask(()=>{e=!1,t(...a)}))}},He=()=>{N.dispatch({type:w.OPEN_CART_MODAL})},nt=({headerLeft:t,children:e})=>{const a=E.getState(),{cartModal:s,toast:o}=N.getState(),n=a.items.length,c=r("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},n>99?"99+":n);return r("div",{className:"min-h-screen bg-gray-50"},r("header",{className:"bg-white shadow-sm sticky top-0 z-40"},r("div",{className:"max-w-md mx-auto px-4 py-4"},r("div",{className:"flex items-center justify-between"},t,r("div",{className:"flex items-center space-x-2"},r("button",{id:"cart-icon-btn",className:"relative p-2 text-gray-700 hover:text-gray-900 transition-colors",onClick:He},r(f,{src:"/cart-header-icon.svg",alt:"장바구니",className:"w-6 h-6"}),n>0&&c))))),r("main",{className:"max-w-md mx-auto px-4 py-4"},e),r(ve,{...a,isOpen:s.isOpen}),r(Se,{...o}),r(Ce,null))},St=r("h1",{className:"text-xl font-bold text-gray-900"},r("a",{href:"/","data-link":"/"},"쇼핑몰"));console.log(St);let z=!1;const Et=async()=>{var t;if(((t=g.route)==null?void 0:t.path)==="/"&&qe(200)){const e=h.getState(),a=e.products.length<e.totalCount;if(e.loading||!a)return;try{await Yt()}catch(s){console.error("무한 스크롤 로드 실패:",s)}}},Qe=()=>{z||(window.addEventListener("scroll",Et),z=!0)},We=()=>{z&&(window.removeEventListener("scroll",Et),z=!1)},$e=vt({onMount:()=>{Qe(),Gt()},onUnmount:()=>{We()},watches:[()=>{const{search:t,limit:e,sort:a,category1:s,category2:o}=g.query;return[t,e,a,s,o]},()=>st(!0)]},()=>{console.log("🏠 홈 페이지 로드");const t=h.getState(),{search:e,limit:a,sort:s,category1:o,category2:n}=g.query,{products:c,loading:i,error:d,totalCount:l,categories:u}=t,b={category1:o,category2:n},p=c.length<l;return r(nt,{headerLeft:St},r(me,{searchQuery:e,category:b,sort:s,limit:a,categories:u}),r("div",{className:"mb-6"},r(Re,{products:c,loading:i,error:d,totalCount:l,hasMore:p})))}),Fe=vt({onMount:()=>{gt(g.params.id)},watches:[()=>[g.params.id],()=>gt(g.params.id)]},()=>{const{currentProduct:t,relatedProducts:e=[],error:a,loading:s}=h.getState();return r(nt,{headerLeft:r("div",{className:"flex items-center space-x-3"},r("button",{onClick:()=>window.history.back(),className:"p-2 text-gray-700 hover:text-gray-900 transition-colors"},r(f,{src:"/back-icon.svg",alt:"뒤로",className:"w-6 h-6"})),r("h1",{className:"text-lg font-bold text-gray-900"},"상품 상세"))},r("div",{className:"min-h-screen bg-gray-50 p-4"},s?r("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},r("div",{className:"text-center"},r("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r("p",{className:"text-gray-600"},"상품 정보를 불러오는 중..."))):a&&!t?r(we,{error:a}):r(Ue,{product:t,relatedProducts:e})))}),ze=()=>nt({headerLeft:Ee(),children:r("div",{className:"text-center my-4 py-20 shadow-md p-6 bg-white rounded-lg"},r(f,{src:"/404.svg",alt:"페이지를 찾을 수 없습니다"}),r("a",{href:"/","data-link":"/",className:"inline-block px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"},"홈으로"))});g.addRoute("/",$e);g.addRoute("/product/:id",Fe);g.addRoute(".*",ze);const Q=je(()=>{const t=document.getElementById("root");if(!t)return;const e=g.target;Dt(r(e,null),t)});function Be(){h.subscribe(Q),E.subscribe(Q),N.subscribe(Q),g.subscribe(Q)}const Ge=()=>_t(async()=>{const{worker:t}=await import("./browser-ipwmi47v.js");return{worker:t}},[]).then(({worker:t})=>t.start({serviceWorker:{url:`${et}mockServiceWorker.js`},onUnhandledRequest:"bypass"}));function Ye(){console.log("🚀 애플리케이션이 시작되었습니다."),console.log("✅ MSW 워커 시작 완료"),Zt(),console.log("✅ 장바구니 데이터 복원 완료"),Be(),console.log("✅ 렌더링 시스템 초기화 완료"),g.start(),console.log("✅ 렌더링 설정 완료"),console.log("🎉 애플리케이션 초기화 완료!")}Ge().then(Ye);
